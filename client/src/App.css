/* App.css - Final Version with Split View & Export */

:root {
  --primary: #4f46e5;       /* Indigo Main */
  --primary-dark: #4338ca;  /* Darker Indigo */
  --bg: #f8fafc;            /* App Background */
  --text: #1e293b;          /* Dark Text */
  --danger: #ef4444;        /* Red for delete */
  --box-border: #cbd5e1;    /* Light Gray Border */
  --note-border: #818cf8;   /* Light Indigo for Note Box */
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  background-color: #e2e8f0; /* Darker background outside phone area */
  color: var(--text);
  -webkit-font-smoothing: antialiased;
}

/* --- MAIN PHONE CONTAINER --- */
.app-container {
  max-width: 480px;
  margin: 0 auto;
  background: var(--bg);
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  box-shadow: 0 0 30px rgba(0,0,0,0.15);
  position: relative;
}

/* --- HEADER SECTION --- */
header {
  background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
  color: white;
  padding: 15px 20px;
  padding-top: 45px; /* Extra space for status bar area */
  display: flex;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 4px 12px rgba(79, 70, 229, 0.25);
  z-index: 10;
}

header h1 { margin: 0; font-size: 18px; font-weight: 700; letter-spacing: 0.5px; }

.back-btn, .logout-btn { 
  background: rgba(255,255,255,0.2); 
  color: white; 
  padding: 6px 12px; 
  border-radius: 20px; 
  font-size: 13px; 
  border: 1px solid rgba(255,255,255,0.1);
  cursor: pointer;
  backdrop-filter: blur(5px);
}

.list-title-area { display: flex; align-items: center; gap: 8px; }
.header-title { font-weight: 600; font-size: 16px; margin-right: 5px; }

/* Generic Icon Button (Used for Share & Rename) */
.icon-btn { 
  background: transparent; 
  border: 1px solid rgba(255,255,255,0.4); 
  color: white; 
  padding: 5px 8px; 
  border-radius: 6px; 
  font-size: 14px; 
  cursor: pointer; 
  transition: 0.2s;
}
.icon-btn:hover { background: rgba(255,255,255,0.1); }

/* --- AUTH & PERMISSIONS SCREENS --- */
.auth-container, .perm-container {
  height: 100vh; 
  display: flex; 
  justify-content: center; 
  align-items: center;
  background: linear-gradient(135deg, #4f46e5, #818cf8);
  padding: 20px;
}

.auth-box, .perm-box {
  background: white; 
  padding: 30px; 
  border-radius: 24px; 
  width: 100%; 
  max-width: 340px; 
  text-align: center; 
  box-shadow: 0 20px 40px rgba(0,0,0,0.2);
}

.auth-box h1 { color: var(--primary); margin-bottom: 5px; }
.auth-box h2 { margin-top: 0; color: #64748b; font-size: 18px; font-weight: 500; }

.auth-box input { 
  width: 100%; 
  padding: 14px; 
  margin: 10px 0; 
  border: 2px solid #e2e8f0; 
  border-radius: 12px; 
  font-size: 16px; 
  box-sizing: border-box; 
  transition: 0.2s;
}
.auth-box input:focus { border-color: var(--primary); outline: none; }

.auth-box button, .allow-btn { 
  width: 100%; 
  padding: 14px; 
  background: var(--primary); 
  color: white; 
  border: none; 
  border-radius: 12px; 
  font-size: 16px; 
  font-weight: bold; 
  cursor: pointer; 
  margin-top: 15px; 
  box-shadow: 0 4px 10px rgba(79, 70, 229, 0.3);
}

.error { color: var(--danger); font-size: 14px; margin-bottom: 10px; display: block; }
.switch-link { margin-top: 20px; color: var(--primary); cursor: pointer; font-size: 14px; font-weight: 500; }

.perm-item { 
  background: #f1f5f9; 
  padding: 16px; 
  margin: 12px 0; 
  border-radius: 12px; 
  font-weight: 600; 
  text-align: left; 
  color: #475569;
  border: 1px solid #e2e8f0;
}

/* --- HOME SCREEN (FOLDERS) --- */
.folder-grid { 
  padding: 20px; 
  display: grid; 
  grid-template-columns: 1fr 1fr; 
  gap: 15px; 
}

.folder { 
  background: white; 
  border-radius: 20px; 
  padding: 18px; 
  box-shadow: 0 4px 6px rgba(0,0,0,0.02); 
  border: 1px solid white;
  position: relative; 
  transition: transform 0.1s;
}
.folder:active { transform: scale(0.96); }

.folder-top { display: flex; justify-content: space-between; align-items: flex-start; }
.folder-icon { font-size: 36px; }
.delete-folder-btn { background: none; border: none; font-size: 18px; cursor: pointer; opacity: 0.4; padding: 5px; }
.delete-folder-btn:hover { opacity: 1; color: var(--danger); }

.folder-name { font-weight: 700; margin-top: 12px; font-size: 15px; color: var(--text); }

/* --- EDITOR TOOLBAR --- */
.toolbar { padding: 15px; background: white; border-bottom: 1px solid #e2e8f0; }

.scan-btn-label {
  display: flex; justify-content: center; align-items: center; gap: 10px;
  background: var(--text); color: white; width: 100%; padding: 14px;
  border-radius: 14px; font-weight: 600; box-sizing: border-box;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

/* --- SPLIT VIEW LIST ITEMS --- */
.list-area { flex: 1; overflow-y: auto; padding: 15px; padding-bottom: 100px; }

.todo-item { 
  display: flex; 
  align-items: flex-start; /* Align to top */
  background: white; 
  padding: 12px; 
  margin-bottom: 12px; 
  border-radius: 12px; 
  box-shadow: 0 2px 5px rgba(0,0,0,0.03); 
}

.todo-item input[type="checkbox"] { 
  width: 22px; 
  height: 22px; 
  margin-top: 8px; /* Push down slightly to align with boxes */
  margin-right: 10px; 
  accent-color: var(--primary); 
  cursor: pointer;
  flex-shrink: 0; 
}

/* Container for the two side-by-side boxes */
.input-group {
  flex: 1;
  display: flex;
  gap: 8px; /* Space between the two boxes */
}

/* BOX 1: SCANNED TEXT (Left) */
.scanned-text {
  flex: 1; 
  width: 100%;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  padding: 8px;
  font-size: 14px;
  background: #f8fafc; /* Light gray to indicate "Source" */
  color: #334155;
  font-weight: 500;
  font-family: inherit;
}

/* BOX 2: NOTE TEXT (Right) */
.note-text {
  flex: 1; 
  width: 100%;
  border: 1px solid var(--note-border); /* Blue border to encourage input */
  border-radius: 8px;
  padding: 8px;
  font-size: 14px;
  background: white;
  color: black;
  font-family: inherit;
}

/* Focus States */
.scanned-text:focus, .note-text:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
}

/* Completed State */
.completed { opacity: 0.6; }
.completed .scanned-text, .completed .note-text { 
  text-decoration: line-through; 
  color: #94a3b8; 
  border-color: transparent;
  background: transparent;
}

/* Delete Button */
.delete-item-btn { 
  background: none; 
  border: none; 
  color: #cbd5e1; 
  font-size: 24px; 
  margin-left: 8px;
  margin-top: 5px;
  padding: 0;
  cursor: pointer; 
  line-height: 1;
  flex-shrink: 0;
}
.delete-item-btn:hover { color: var(--danger); }

/* --- FLOATING ACTION BUTTON (FAB) --- */
.fab {
  position: fixed; bottom: 30px; right: 25px;
  width: 60px; height: 60px; border-radius: 50%;
  background: var(--primary); color: white; border: none; 
  font-size: 32px; box-shadow: 0 10px 25px rgba(79, 70, 229, 0.4); 
  cursor: pointer; z-index: 20;
  display: flex; align-items: center; justify-content: center;
  transition: transform 0.1s;
}
.fab:active { transform: scale(0.9); }

/* --- AI LOADING OVERLAY --- */
.overlay {
  position: fixed; top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(255,255,255,0.95); backdrop-filter: blur(5px);
  display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 50;
}
.overlay h2 { color: var(--primary); margin-top: 20px; font-size: 18px; }